<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<meta name="theme-color" content="#b9ad92" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<title>Atelier Réalisme</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap');
    body {
        margin: 0;
        background: linear-gradient(135deg, #e7e3d3, #b9ad92);
        font-family: 'Merriweather', serif;
        line-height: 1.6;
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
        font-family: 'Merriweather', serif;
        color: #3b3a36;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }
    header {
        padding: 2rem 1rem;
        text-align: center;
        background-color: rgba(59,58,54,0.85);
        color: #f1ede7;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        font-weight: 700;
        font-size: 2.2rem;
        letter-spacing: 2px;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        user-select: none;
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
    }
    main.container {
        flex-grow: 1;
        max-width: 900px;
        margin: 3rem auto 1rem;
        padding: 0 1rem;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 2rem;
    }
    button.box {
        background: #f6f1e7;
        border-radius: 22px;
        box-shadow:
            8px 8px 15px rgba(0,0,0,0.12),
            -6px -6px 12px rgba(255,255,255,0.9);
        padding: 2rem 1.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
        cursor: pointer;
        color: #5a4c3e;
        font-size: 1.15rem;
        font-weight: 600;
        box-sizing: border-box;
        text-align: center;
        user-select: none;
        border: 2px solid #ccc3b5;
        text-decoration: none;
        text-shadow: 0 1px 2px rgba(255,255,255,0.75);
        border: none;
        outline: none;
    }
    a.box {
        background: #f6f1e7;
        border-radius: 22px;
        box-shadow:
            8px 8px 15px rgba(0,0,0,0.12),
            -6px -6px 12px rgba(255,255,255,0.9);
        padding: 2rem 1.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
        cursor: pointer;
        color: #5a4c3e;
        font-size: 1.15rem;
        font-weight: 600;
        box-sizing: border-box;
        text-align: center;
        user-select: none;
        border: 2px solid #ccc3b5;
        text-decoration: none;
        text-shadow: 0 1px 2px rgba(255,255,255,0.75);
    }
    button.box:hover, a.box:hover,
    button.box:focus, a.box:focus {
        box-shadow:
            12px 12px 25px rgba(0,0,0,0.15),
            -8px -8px 18px rgba(255,255,255,0.95);
        transform: translateY(-6px);
        outline: none;
        border-color: #98815c;
        color: #3e3421;
        background: #eae4d5;
        text-shadow: 0 1px 3px rgba(255,255,255,1);
    }
    button.box:active, a.box:active {
        transform: translateY(-2px);
        box-shadow:
            inset 3px 3px 7px rgba(0,0,0,0.1),
            inset -2px -2px 5px rgba(255,255,255,0.7);
    }
    footer {
        text-align: center;
        padding: 1rem;
        font-size: 1rem;
        color: #7a6f59;
        user-select: none;
        border-top: 1px solid #ccc3b5;
        margin-top: auto;
    }
    @media (max-width: 600px) {
        button.box, a.box {
            font-size: 1rem;
            padding: 1.5rem 1rem;
        }
        header {
            font-size: 1.8rem;
        }
        footer {
            font-size: 0.9rem;
        }
    }
    /* Modal overlay */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1100;
        width: 100vw;
        height: 100vh;
        background-color: rgba(59, 58, 54, 0.85);
        backdrop-filter: blur(4px);
        display: none;
        align-items: center;
        justify-content: center;
        padding: 1rem;
    }
    /* Show modal */
    .modal-overlay.active {
        display: flex;
    }
    /* Modal content box */
    .modal-content {
        background: #f6f1e7;
        border-radius: 20px;
        max-width: 600px;
        width: 100%;
        max-height: 80vh;
        overflow-y: auto;
        padding: 2rem 2.5rem;
        box-shadow: 12px 12px 30px rgba(0,0,0,0.15);
        color: #3b3a36;
        position: relative;
        font-family: 'Merriweather', serif;
        line-height: 1.6;
        white-space: pre-wrap;
    }
    /* Modal header */
    .modal-content h2 {
        margin-top: 0;
        margin-bottom: 1rem;
        color: #98815c;
        font-weight: 700;
        user-select: none;
    }
    /* Close button */
    .modal-close {
        position: absolute;
        top: 12px;
        right: 16px;
        background: transparent;
        border: none;
        font-size: 1.8rem;
        font-weight: 700;
        color: #98815c;
        cursor: pointer;
        user-select: none;
    }
    .modal-close:hover,
    .modal-close:focus {
        color: #3e3421;
        outline: none;
    }
    /* Password prompt styling */
    .password-prompt {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
    .password-prompt input[type="password"] {
        padding: 0.5rem 0.75rem;
        font-size: 1rem;
        border-radius: 8px;
        border: 1.5px solid #ccc3b5;
        font-family: 'Merriweather', serif;
        outline: none;
        transition: border-color 0.3s;
    }
    .password-prompt input[type="password"]:focus {
        border-color: #98815c;
    }
    .password-prompt button {
        align-self: flex-start;
        padding: 0.5rem 1rem;
        font-size: 1rem;
        font-weight: 600;
        background-color: #98815c;
        color: #f6f1e7;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    .password-prompt button:hover,
    .password-prompt button:focus {
        background-color: #7f704a;
        outline: none;
    }
    .error-message {
        color: #b23a3a;
        font-weight: 600;
        user-select: none;
    }
    .timeline-box {
    background-color: #f1ede7;
    padding: 15px;
    margin: 10px 0;
    border-radius: 10px;
    border: 1px solid #3e3421;
    display: flex;
    align-items: center;
    gap: 15px;
    cursor: move;
    user-select: none;
}

.timeline-box .date-box {
    background-color: #3e3421;
    color: white;
    border-radius: 25px;
    padding: 8px 16px;
    font-weight: bold;
}

.timeline-box p {
    margin: 0;
}

.timeline-box:hover {
    background-color: #e1dcd6;
    border-color: #4a412a;
}

.sort-button {
    background-color: #3e3421;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    margin: 10px 0;
    cursor: pointer;
    font-family: 'Merriweather', serif;
    font-weight: 600;
}

.sort-button:hover {
    background-color: #4a412a;
}

  </style>
</head>
<body>
    <header>
        Atelier Réalisme - Accès documents
    </header>
    <main class="container" role="main">
        <button class="box" data-modal="doc1">Doc 1 – Les consignes</button>
        <button class="box" data-modal="doc2">Doc 2 – Matériel de l’atelier</button>
        <button class="box" data-modal="doc3">Doc 3 – Carnet de suivi (élève)</button>
        <button class="box" data-modal="doc4">Doc 4 – Carnet de suivi corrigé (enseignant)</button>
        <button class="box" data-modal="timeline">Frise Chronologique</button>
        <button class="box" data-modal="realism">Réalisme Littérature +</button>
        <button class="box" data-modal="authors">Auteurs du réalisme</button>
    </main>
    <footer>
        Groupe 3: Julian, Juan, Jacopo, Filippos
    </footer>
 
    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
        <div class="modal-content" tabindex="0">
            <button class="modal-close" id="modalClose" aria-label="Fermer la fenêtre modale">&times;</button>
            <h2 id="modalTitle">Titre</h2>
            <div id="modalDesc"></div>
        </div>
    </div>
 
<script>
    const modalContents = {
        doc1: `Objectif de l’atelier :

 
Étapes à suivre :
1. Prendre connaissance du matériel (Doc 2) : Lisez attentivement les textes, repérez les dates, les événements historiques et littéraires.
2. Compléter le carnet de suivi (Doc 3) : À faire en groupe pendant la préparation.

 
À la fin de l’atelier :
Chaque élève complète son carnet de suivi.
Le groupe rend le carnet corrigé (Doc 4) avec les réponses complètes.`,
        doc2: `Contenu :
✔ Un texte de référence : tableau chronologique des grands moments du réalisme.
✔ Une frise chronologique à compléter.
✔ Des cartes dates à placer dans la frise (pas dans l'ordre!).
✔ Des cartes mémo (avec auteurs, œuvres, évènements clés).
✔ Oeuvres des fameux auteurs (ex. : Madame Bovary, L’Assommoir, Bel-Ami) pour illustrer le style réaliste.`,
        doc3: `Doc 3 – Carnet de suivi
Nom du groupe : __________________
Date : ___________________________

Quelle est la date de publication de Madame Bovary de Flaubert et pourquoi est-elle importante dans l’histoire du réalisme ?

Quel événement majeur de 1830 est associé au développement du réalisme ?

Sur la frise chronologique, quelle date marque le début du réalisme littéraire ? Pourquoi cette date est-elle significative ?

Citez un événement historique majeur qui a influencé le développement du réalisme dans la littérature.

Comment l’industrialisation a-t-elle impacté le style littéraire des écrivains réalistes ?

Expliquez le rôle de Balzac dans le mouvement réaliste avec un exemple de son œuvre.

En quoi Zola représente-t-il l’évolution du réalisme vers le naturalisme ?

Pourquoi l’année 1848 est-elle importante dans l’histoire du réalisme ?

Citez deux auteurs réalistes majeurs et une œuvre représentative de chaque auteur.

Auteur 1 : _______________ / Œuvre : __________________________

Auteur 2 : _______________ / Œuvre : __________________________

Dans Germinal de Zola, comment l’auteur représente-t-il la lutte des classes sociales ?

Comment l’œuvre de Stendhal peut-elle être reliée à l’émergence du réalisme au XIXe siècle ?

Quelles sont les principales différences entre le réalisme et le romantisme, selon la chronologie des événements littéraires ?

Pourquoi La Comédie humaine de Balzac est-elle essentielle pour comprendre l’évolution du réalisme ?

Comment le réalisme se distingue-t-il de la littérature classique ?

Citez une œuvre de Flaubert autre que Madame Bovary et expliquez son lien avec le réalisme.
`,
        doc4_actual: `Doc 4 – Carnet de suivi corrigé (prof)
Quelle est la date de publication de Madame Bovary de Flaubert et pourquoi est-elle importante dans l’histoire du réalisme ?
Réponse : 1857, cette œuvre est un exemple clé de la manière dont le réalisme décrit la société et les mœurs de l’époque.
Où trouver la réponse : Document "Auteurs" (Flaubert, page 2).

Quel événement majeur de 1830 est associé au développement du réalisme ?
Réponse : La publication de La Chartreuse de Parme de Stendhal, une œuvre fondamentale du réalisme.
Où trouver la réponse : Document "Frise Chronologique", ligne 3 (1830).

Sur la frise chronologique, quelle date marque le début du réalisme littéraire ? Pourquoi cette date est-elle significative ?
Réponse : 1830, avec la publication de La Chartreuse de Parme de Stendhal, un précurseur important du réalisme.
Où trouver la réponse : Document "Frise Chronologique", ligne 3 (1830).

Citez un événement historique majeur qui a influencé le développement du réalisme dans la littérature.
Réponse : La Révolution de 1848 ou l’industrialisation de la France au XIXe siècle ont conduit les écrivains à se concentrer sur la société et ses inégalités.
Où trouver la réponse : Document "Frise Chronologique", ligne 5 (1848).

Comment l’industrialisation a-t-elle impacté le style littéraire des écrivains réalistes ?
Réponse : Les écrivains réalistes ont cherché à décrire la société telle qu’elle est, en se concentrant sur la vie des ouvriers et la pauvreté engendrées par l’industrialisation.
Où trouver la réponse : Document "Réalisme Littérature +", section sur l'impact de l’industrialisation (page 4).

Expliquez le rôle de Balzac dans le mouvement réaliste avec un exemple de son œuvre.
Réponse : Balzac a voulu dresser un portrait exhaustif de la société de son époque dans La Comédie humaine, en décrivant chaque aspect de la société, des classes populaires à l’aristocratie.
Où trouver la réponse : Document "Auteurs" (Balzac, page 3).

En quoi Zola représente-t-il l’évolution du réalisme vers le naturalisme ?
Réponse : Zola a poussé le réalisme à l’extrême en introduisant des concepts scientifiques pour expliquer les comportements humains, comme dans Germinal, qui montre la lutte des classes avec une grande précision sociale.
Où trouver la réponse : Document "Auteurs" (Zola, page 5) et Document "Réalisme Littérature +" (section sur le naturalisme, page 6).

Pourquoi l’année 1848 est-elle importante dans l’histoire du réalisme ?
Réponse : La Révolution de 1848 a inspiré de nombreux écrivains réalistes à explorer les inégalités sociales, les révoltes et les tensions entre les différentes classes sociales.
Où trouver la réponse : Document "Frise Chronologique", ligne 5 (1848).

Citez deux auteurs réalistes majeurs et une œuvre représentative de chaque auteur.

Balzac / La Comédie humaine

Flaubert / Madame Bovary
Où trouver la réponse : Document "Auteurs" (Balzac et Flaubert, pages 3 et 2).

Dans Germinal de Zola, comment l’auteur représente-t-il la lutte des classes sociales ?
Réponse : Zola décrit les conditions de vie extrêmes des ouvriers dans les mines et leur révolte contre les injustices sociales, en s’appuyant sur des faits réels et des données scientifiques.
Où trouver la réponse : Document "Auteurs" (Zola, page 5) et Document "Réalisme Littérature +" (section sur la lutte des classes et le naturalisme, page 6).

Comment l’œuvre de Stendhal peut-elle être reliée à l’émergence du réalisme au XIXe siècle ?
Réponse : Stendhal a analysé la psychologie des personnages et leurs rapports avec la société dans un contexte historique précis, comme dans La Chartreuse de Parme.
Où trouver la réponse : Document "Auteurs" (Stendhal, page 2).

Quelles sont les principales différences entre le réalisme et le romantisme, selon la chronologie des événements littéraires ?
Réponse : Le romantisme privilégie les émotions et l’idéalisation, tandis que le réalisme cherche à décrire le monde de manière objective et sans embellissement.
Où trouver la réponse : Document "Réalisme Littérature +", section sur la différence avec le romantisme (page 2).

Pourquoi La Comédie humaine de Balzac est-elle essentielle pour comprendre l’évolution du réalisme ?
Réponse : La Comédie humaine présente un panorama détaillé de la société du XIXe siècle et analyse les comportements humains dans différents contextes sociaux et économiques.
Où trouver la réponse : Document "Auteurs" (Balzac, page 3).

Comment le réalisme se distingue-t-il de la littérature classique ?
Réponse : Le réalisme représente la réalité de la société, en s’éloignant des héros idéalisés et de la rigueur des règles classiques, pour décrire des personnages plus ordinaires et des événements quotidiens.
Où trouver la réponse : Document "Réalisme Littérature +", section sur les caractéristiques du réalisme (page 3).

Citez une œuvre de Flaubert autre que Madame Bovary et expliquez son lien avec le réalisme.
Réponse : L’Éducation sentimentale est une œuvre réaliste qui décrit les désillusions d’un jeune homme face à la société et aux événements historiques de son époque.
Où trouver la réponse : Document "Auteurs" (Flaubert, page 2).
`,
        timeline: `
            <div class="timeline-container">
                <div class="timeline-boxes">
        <div class="timeline-box" draggable="true" id="timeline-box-1830" data-date="1830">
            <span class="date-box">1830</span>
            <p>➤ Révolution de Juillet : chute de la monarchie absolue, début de la monarchie de Juillet
            ➤ Débuts du réalisme précurseur avec Stendhal (Le Rouge et le Noir) et Balzac.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1831">
            <span class="date-box">1831</span>
            <p>➤ Balzac publie La Peau de chagrin: début de La Comédie humaine.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1836">
            <span class="date-box">1836</span>
            <p>➤ Apparition du roman-feuilleton dans la presse, contribuant à la popularisation du roman.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1842">
            <span class="date-box">1842</span>
            <p>➤ Balzac publie l'avant-propos de La Comédie humaine: volonté de décrire la société à la manière d'un naturaliste.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1848">
            <span class="date-box">1848</span>
            <p>➤ Révolution de 1848: naissance de la Deuxième République  
            ➤ Crise du romantisme. Montée d'un besoin de lucidité sociale: le réalisme gagne en légitimité.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1850">
            <span class="date-box">1850</span>
            <p>➤ Mort de Balzac  
            ➤ Fin de la première génération réaliste.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1856">
            <span class="date-box">1856</span>
            <p>La publication de <em>Madame Bovary</em> a eu lieu en 1856.
            ➤ Flaubert publie Madame Bovary: acte fondateur du réalisme littéraire moderne.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1857">
            <span class="date-box">1857</span>
            <p>➤ Procès de Madame Bovary pour immoralité (Flaubert acquitté).  
            ➤ Champfleury publie Le Réalisme, premier manifeste du mouvement.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1859">
            <span class="date-box">1859</span>
            <p>➤ Débuts littéraires de Zola.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1865">
            <span class="date-box">1865</span>
            <p>➤ Germinie Lacerteux des frères Goncourt : exploration du quotidien et de la condition domestique.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1866">
            <span class="date-box">1866</span>
            <p>➤ Maupassant devient élève de Flaubert, héritant de son exigence stylistique.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1869">
            <span class="date-box">1869</span>
            <p>➤ Zola commence le cycle des Rougon-Macquart : naissance du naturalisme, forme scientifique du réalisme.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1871">
            <span class="date-box">1871</span>
            <p>➤ Commune de Paris. Proclamation de la Troisième République  
            ➤ Publication de La Fortune des Rougon (Zola), ancrée dans l'histoire contemporaine.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1877">
            <span class="date-box">1877</span>
            <p>➤ Zola publie L'Assommoir : description du monde ouvrier, de l'alcoolisme et de la misère sociale.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1880">
            <span class="date-box">1880</span>
            <p>➤ Parution du recueil Les Soirées de Médan (Zola, Maupassant…) : manifeste du naturalisme.  
            ➤ Zola publie Le Roman expérimental, exposant sa méthode scientifique appliquée au roman.</p>
        </div>
        <div class="timeline-box" draggable="true" data-date="1885">
            <span class="date-box">1885</span>
            <p>➤ Mort de Victor Hugo  
            ➤ Apogée du réalisme et du naturalisme.  
            ➤ Publication de Germinal (Zola), fresque sociale sur les mineurs.</p>
        </div>
        <div class="timeline-box" draggable="true" id="timeline-box-1890s" data-date="1890">
            <span class="date-box">1890s</span>
            <p>➤ Maupassant publie Bel-Ami, Pierre et Jean.  
            ➤ Déclin du réalisme au profit de nouveaux courants : symbolisme, décadentisme, avant-gardes.</p>
        </div>
                </div>
            </div>`,
       realism: `Le réalisme c’est un mouvement littéraire et artistique qui a commencé vers les années 1850 en France puis s’est répandu. Il est né face au romantisme. Le réalisme veut montrer la réalité telle qu'elle est, en s’inspirant du quotidien et des gens des classes populaires ou moyennes.
 
Contexte historique
Révolution de 1848: Après la chute de la monarchie de Juillet, Napoléon III prend le pouvoir autoritaire.
 
Censure et méfiance politique: Le réalisme est mal vu par le pouvoir car il critique la société (parle de faits réels).
 
Révolution industrielle: La presse et les romans-feuilletons apparaissent, ce qui permet aux écrivains de parler de sujets actuels.
 
Principes du réalisme
Objectivité et observation: Les écrivains réalistes décrivent la réalité de manière précise, sans embellir.
 
Étude des mœurs et des milieux sociaux : Le réalisme s’intéresse à la vie des gens, aux conditions de travail et aux différentes classes sociales.
 
Refus du spectaculaire et de l’idéalisation : Le réalisme est contre l’exotisme (fantaisie) comme les personnages exceptionnels.
 
Simplicité du style: Le style est simple et accessible, sans fioritures.
 
Documentation rigoureuse: Les écrivains se renseignent bien sur leurs sujets (comme les métiers, les lieux, etc.) pour être précis.
 
Techniques d’écriture
Narrateur effacé: L’auteur reste discret et l’histoire est souvent racontée du point de vue des personnages.
 
Descriptions détaillées
 
Style indirect libre: Les pensées des personnages sont ajoutées directement dans le récit.
 
Toponymes et repères précis: Les lieux mentionnés sont souvent réels pour rendre l’histoire plus crédible.
 
Auteurs et œuvres clés
Honoré de Balzac: La Comédie humaine est une grande série de livres qui montre la société de l’époque.
 
Gustave Flaubert: Son livre Madame Bovary est un exemple important du réalisme.
 
Stendhal, Maupassant, les frères Goncourt sont d’autres auteurs connus du réalisme.
 
Émile Zola : Il est le premier auteur du naturalisme (comme le réalisme mais ajoute des descriptions scientifiques) et a écrit Germinal et Les Rougon-Macquart et aussi Thérèse Raquin (dédicace à Woltèche).
 
Différences avec le romantisme
Romantisme / Réalisme
Idéalisation, lyrisme / Objectivité, observation
Héros exceptionnels / Personnages ordinaires
Fantastique, exotisme / Quotidien, contemporain
Expression de soi / Effacement de l’auteur`,
        authors: `Stendhal (Le Rouge et le Noir, 1830)
 
Balzac (La Comédie humaine, dès 1831)
 
Flaubert (Madame Bovary, 1856)
 
Champfleury (manifeste du réalisme, 1857)
 
Les frères Goncourt (Germinie Lacerteux, 1865)
 
Zola (L’Assommoir, 1877 ; Germinal, 1885)
 
Maupassant (Boule de suif, Bel-Ami, années 1880)`
    }
 
    const modalOverlay = document.getElementById('modalOverlay');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalClose = document.getElementById('modalClose');
 
    let lastClickedBtn = null;
 
    // Function to open modal with content
    function openModal(title, content) {
        modalTitle.textContent = title;
        modalDesc.innerHTML = content; // Use innerHTML to preserve HTML structure
        modalOverlay.classList.add('active');
        document.querySelector('.modal-content').focus();
    }
 
    // Show password prompt for Doc 4
    function showPasswordPrompt() {
        modalTitle.textContent = "Doc 4 – Carnet de suivi corrigé (enseignant) - Accès protégé";
        modalDesc.innerHTML = `
            <form id="passwordForm" class="password-prompt" autocomplete="off">
                <label for="passwordInput">Veuillez entrer le mot de passe :</label>
                <input type="password" id="passwordInput" aria-label="Mot de passe pour accéder au document 4" required/>
                <span class="error-message" id="errorMsg" style="display:none;">Mot de passe incorrect, veuillez réessayer.</span>
                <button type="submit">Valider</button>
            </form>
        `;
        modalOverlay.classList.add('active');
        document.getElementById('passwordInput').focus();
 
        const form = document.getElementById('passwordForm');
        const errorMsg = document.getElementById('errorMsg');
 
        form.onsubmit = function(e) {
            e.preventDefault();
            const pwd = document.getElementById('passwordInput').value;
            if (pwd === "prof2025") {
                errorMsg.style.display = "none";
                modalDesc.textContent = modalContents['doc4_actual'];
            } else {
                errorMsg.style.display = "block";
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
            }
        };
    }
 
    // Handle box clicks
    document.querySelectorAll('.box').forEach(btn => {
        btn.addEventListener('click', () => {
            lastClickedBtn = btn;
            const key = btn.getAttribute('data-modal');
            if (!key) return;
            if (key === 'doc4') {
                showPasswordPrompt();
                return;
            }
            if (modalContents[key]) {
                let titleMap = {
                    doc1: 'Doc 1 – Les consignes',
                    doc2: 'Doc 2 – Matériel de l’atelier',
                    doc3: 'Doc 3 – Carnet de suivi (élève)',
                    timeline: 'Frise Chronologique',
                    realism: 'Réalisme Littérature +',
                    authors: 'Auteurs du réalisme'
                };
                openModal(titleMap[key] || 'Information', modalContents[key]);
            } else {
                openModal('Information', 'Contenu indisponible.');
            }
        });
    });
 
    // Close modal
    modalClose.addEventListener('click', () => {
        modalOverlay.classList.remove('active');
        // Return focus to last clicked button
        if (lastClickedBtn) lastClickedBtn.focus();
    });
 
    // Close on clicking outside modal content
    modalOverlay.addEventListener('click', (e) => {
        if (e.target === modalOverlay) {
            modalOverlay.classList.remove('active');
            if (lastClickedBtn) lastClickedBtn.focus();
        }
    });
 
    // Close on Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
            modalOverlay.classList.remove('active');
            if (lastClickedBtn) lastClickedBtn.focus();
        }
    });

    // Initialize timeline functionality
    function initializeTimeline() {
        const timelineBoxes = document.querySelectorAll('.timeline-box');
        const timelineContainer = document.querySelector('.timeline-boxes');
        const sortButton = document.querySelector('.sort-button');

        // Randomize timeline boxes
        const boxesArray = Array.from(timelineBoxes);
        boxesArray.sort(() => Math.random() - 0.5); // Random sort
        boxesArray.forEach(box => {
            timelineContainer.appendChild(box);
        });

        // Add drag and drop functionality
        timelineBoxes.forEach(box => {
            box.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', e.target.id);
                e.target.classList.add('dragging');
            });

            box.addEventListener('dragend', (e) => {
                e.target.classList.remove('dragging');
            });
        });

        timelineContainer.addEventListener('dragover', (e) => {
            e.preventDefault();
            const draggingBox = document.querySelector('.dragging');
            const targetBox = e.target.closest('.timeline-box');

            if (!targetBox || targetBox === draggingBox) return;

            const targetIndex = Array.from(timelineBoxes).indexOf(targetBox);
            const draggingIndex = Array.from(timelineBoxes).indexOf(draggingBox);

            if (targetIndex > draggingIndex) {
                timelineContainer.insertBefore(draggingBox, targetBox.nextSibling);
            } else {
                timelineContainer.insertBefore(draggingBox, targetBox);
            }
        });

        // Randomize timeline boxes when initializing
        const randomizedBoxes = Array.from(timelineBoxes).sort(() => Math.random() - 0.5);
        timelineContainer.innerHTML = '';
        randomizedBoxes.forEach(box => {
            timelineContainer.appendChild(box);
        });
    }

    // Initialize timeline when modal opens
    document.querySelector('[data-modal="timeline"]').addEventListener('click', () => {
        setTimeout(initializeTimeline, 500); // Wait for modal to open
    });
</script>
</body>
</html>